---
title: "Impacto da COVID-19 nos Estudantes Universitários no Brasil"
author:
- Roque Maitino Neto
- Ana Cláudia Lima
- Marcelo Bressanin
- Nilton Ferst
- Gabrielly Richene
date: "`r Sys.Date()`"
output:
  
  pdf_document: default
  word_document: default
  html_document: default
---

```{r, include=FALSE}
options(tinytex.verbose = TRUE)
```

```{r configurações_iniciais, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
# - ETAPA INICIAL
#--- Importação e preparação dos dados

# Lendo o arquivo em .xlsx
if (!("readxl") %in% installed.packages()) install.packages("readxl")
library(readxl)
dbf.xlsx <- read_excel("~/ciencia-de-dados/mit-grupo-2-2022/dados/COVID19IES.xlsx")

# Lendo o arquivo em .csv
dbf.csv <-read.csv("~/ciencia-de-dados/mit-grupo-2-2022/dados/COVID19IES.csv", header = TRUE, sep = ";", quote = "\"", dec = ".")

# Lendo o arquivo em .ods
if (!("readODS") %in% installed.packages()) install.packages("readODS")
library(readODS)
dbf.ods <- read_ods("~/ciencia-de-dados/mit-grupo-2-2022/dados/COVID19IES.ods")

# Utilizando o pacote smartEDA no dataframe
if(!("SmartEDA") %in% installed.packages()) install.packages("SmartEDA")
library(SmartEDA)
if(!("ISLR") %in% installed.packages()) install.packages("ISLR")
library("ISLR")

# Função para gerar o dicionário de dados de um dataframe
ExpData(data=dbf.xlsx,type=1)
ExpData(data=dbf.xlsx,type=2)

```

# Impacto da COVID-19 nos Estudantes Universitários no Brasil

## Trabalho final da disciplina de Ciência de Dados

### Autores:

-   Ana Cláudia Lima
-   Gabrielly Del Carlo Richene
-   Marcelo Bressanin
-   Nilton Ferst
-   Roque Maitino Neto

## 1. Considerações iniciais

Este trabalho destina-se à realização de Análise Exploratória de Dados em dados relacionados ao impacto da pandemia de Covid 19 em alunos do Ensino Superior. Tais dados foram obtidos pela realização de levantamento conduzido pelo professor João Pedro Albino entre alunos do ensino superior. Os dados obtidos foram armazenados em planilha Excel e, conforme mencionado, formam base para este trabalho.

## 2. Análise Exploratória de Dados

### 2.1 Introdução e conceituação de Análise Exploratória de Dados

Análise exploratória de dados (AED) é um processo de investigação e descrição dos dados, com o objetivo de entender sua estrutura e detectar padrões e tendências. A AED pode ser efetivada de nas modalidades monovariada, bivariada e multivariada. A utilização de gráficos facilita a compreensão dos dados, conforme destacam ESCOVEDO e KOSHIAMA (ANO) :

Análise exploratória É muito importante compreender bem os seus dados a fim de obter os melhores resultados possíveis nos algoritmos de Machine Learning, aplicados posteriormente. Para aprender mais sobre seus dados de forma mais fácil e intuitiva, é possível usar a visualização de dados, ou seja, a criação de gráficos a partir dos dados brutos. Após entendê-los, você poderá limpar, transformar e apresentar melhor os dados que você possui, e posteriormente, aplicar os algoritmos de Machine Learning mais adequados para eles. Através dos gráficos criados, será possível identificar valores discrepantes, faltantes ou inválidos, além se sugerir a necessidade da aplicação de alguma transformação de dados. Examinar visualmente os relacionamentos entre os atributos pode ajudar a identificar atributos redundantes, por exemplo.

### 2.2 Introdução à Análise Univariada de Dados

Análise univariada: é a análise de uma única variável. Essa análise é usada para entender a distribuição e as características de uma única variável, como sua média, desvio padrão, mediana, quartis, entre outros. Uma análise exploratória monovariada dos dados coletados nesta pesquisa do Impacto da Covid-19 na vida dos estudantes das universidades poderia começar comparando a situação dos estudantes entrevistados que tinham acesso à internet com aqueles que não tinham.

### 2.3 Introdução à Análise Bivariada de Dados

Trata-se da análise de duas variáveis. Essa análise é usada para entender as relações entre as variáveis, como por exemplo, se existe uma relação linear entre elas, ou se uma variável é independente da outra. Um exemplo de análise bivariada seria a comparação dos estudantes que tinham ou não acesso à internet com a capacidade de prosseguir nos estudos.

### 2.4 Introdução à Análise Multivariada de Dados

A Análise multivariada é a análise de mais de duas variáveis. Essa análise é usada para entender as relações entre várias variáveis e detectar padrões e tendências complexas. As técnicas multivariadas incluem análise de componentes principais, análise de cluster, análise discriminante, entre outros. A comparação entre os estudantes que foram vacinados e aqueles que não foram e diversas outras variáveis, a exemplo do nível de ansiedade, a disposição para atividades, a capacidade de prosseguir estudos, a capacidade de socialização, o bem-estar psicológico, a qualidade de vida e o desempenho escolar, é um exemplo de análise multivariada. É possível que os estudantes vacinados tenham menos ansiedade e sejam mais propensos a prosseguir com seus estudos, socializar e ter melhor bem-estar psicológico e qualidade de vida Escovedo e Koshiama explicam que "Não existe uma receita pronta para o trabalho de análise exploratória de dados, uma vez que ele dependerá dos dados a serem analisados e dos insights que cada etapa de análise provocará." Os três tipos de análise exploratória de dados podem ser realizados utilizando diferentes ferramentas e técnicas estatísticas, como gráficos, tabelas, estatísticas descritivas, entre outros. O objetivo principal é identificar as características do conjunto de dados e entender como as variáveis estão relacionadas entre si.

## 3. Análises elaboradas a partir dos dados disponibilizados

Feitas as considerações teóricas sobre a Análise Exploratória de Dados, o trabalho passa a abordar as relações existentes entre os dados relacionados ao impacto da pandemia de Covid 19 causado em certa comunidade acadêmica. Nesta seção do artigo serão mostrados e discutidos, portanto, os gráficos resultantes da AED realizada.

```{r numero_de_casos, echo=FALSE}
# número total de observações no dataframe
total_casos <- nrow(dbf.xlsx)
total_casos

```

A amostra utilizada neste artigo é composta por 52 observações que foram coletadas durante os anos de 2020 a 2023.

```{r grafico_faixa_etaria, echo=FALSE, fig.cap = "Gráfico 1: Faixa etária dos respondentes."}
## Gráfico 1 Faixa Etária dos respondentes
# Versão 2, utilizando a definição divisão das faixas etárias:
# 17 - 21
# 22 - 26
# 27 - 31
# 32 - 36
# 37 - 41
# 42 - 46 
# 47 - 51 
# 52 - 56
# 57 - 61

idade_concat <- data.frame(idade=dbf.csv$idade, faixa_etaria="")

for (k in 1:nrow(idade_concat)) {
  if(idade_concat$idade[k] <= 21) idade_concat$faixa_etaria[k] <- "17 a 21 anos"
  if(idade_concat$idade[k] >= 22 & idade_concat$idade[k] <= 26) idade_concat$faixa_etaria[k] <- "22 a 26 anos"
  if(idade_concat$idade[k] >= 27 & idade_concat$idade[k] <= 31) idade_concat$faixa_etaria[k] <- "27 a 31 anos"
  if(idade_concat$idade[k] >= 32 & idade_concat$idade[k] <= 36) idade_concat$faixa_etaria[k] <- "32 a 36 anos"
  if(idade_concat$idade[k] >= 37 & idade_concat$idade[k] <= 41) idade_concat$faixa_etaria[k] <- "37 a 41 anos"
  if(idade_concat$idade[k] >= 42 & idade_concat$idade[k] <= 46) idade_concat$faixa_etaria[k] <- "42 a 46 anos" 
  if(idade_concat$idade[k] >= 47 & idade_concat$idade[k] <= 51) idade_concat$faixa_etaria[k] <- "47 a 51 anos" 
  if(idade_concat$idade[k] >= 52 & idade_concat$idade[k] <= 56) idade_concat$faixa_etaria[k] <- "52 a 56 anos"
  if(idade_concat$idade[k] >= 57 & idade_concat$idade[k] <= 61) idade_concat$faixa_etaria[k] <- "57 a 61 anos"
  if(idade_concat$idade[k] > 61) idade_concat$faixa_etaria[k] <- "acima de 61 anos"
}

casos_idade_concat <- table(idade_concat$faixa_etaria)

#Cálculo da porcentagem das faixas etárias
pct_idade3 <- paste0(round(unname(casos_idade_concat) / sum(unname(casos_idade_concat)) * 100,0), "%")

# Gráfico do tipo barra das faixas etárias
graph.idade_concat <- barplot(casos_idade_concat, 
#                               main = "Gráfico 1: Faixa etária dos respondentes",
                               xlab = "Faixa Etária", 
                               ylab = "Respondentes",
                               col = "orange",
                               horiz = F,
                               ylim = c(0,max(casos_idade_concat) + 5))
text(x = graph.idade_concat, y = casos_idade_concat, label = unname(casos_idade_concat), cex=1, pos=3)
axis(1, at=graph.idade_concat, labels=paste("(", pct_idade3, ")"), tick=F, las=1, line=-1.0, cex.axis= 1.1)

```

Como pode ser observado no Gráfico 1, os dados da amostra correspondem à faixa etária de estudantes entre 17 a 61 anos, sendo que a maior quantidade de estudantes está na faixa de 22 a 26 anos, com 14 participantes.

```{r grafico2_genero, echo=FALSE, fig.cap = "Gráfico 2: Número de respondentes por gênero"}
# Dados do Gráfico 2
casos_genero <- table(dbf.csv$genero)

pct_genero <- paste(round(unname(casos_genero) / sum(unname(casos_genero)) * 100), "%")

#Gráfico 2: Quantidade de respondentes por sexo
# Gráfico tipo "pizza"
pie(casos_genero,
    edges = 200, radius = 0.8,
    clockwise = F,
    density = NULL, angle = 90, col = c("red", "orange", "yellow", "green"),
    labels = paste(names(casos_genero), "-", pct_genero))
#    main = "Gráfico 2: Quantidade de respondentes por gênero")

```

Como forma de complementar a análise dos respondentes, o Gráfico 2 mostra que os gêneros femininos e masculinos apresentaram uma certa paridade, com respondentes femininos representando 46% da amostra e os masculinos 48% da amostra.

```{r grafico3_situacao_empregaticia, echo=FALSE, fig.cap = "Gráfico 3: Quantidade de respondentes por sutuação empregatícia"}
# Dados do Gráfico 3
casos_emprego <- table(dbf.xlsx$situacao_empregaticia)
casos_emprego
#                  Aposentada                                        Bolsista 
#                           1                                              10 
#         Corretor de Imóveis  Dependente (dos pais) com vínculo empregatício 
#                           1                                               1 
#Dependente (dos pais, etc.)                                  Desempregado(a) 
#                           7                                               2 
#                Empregado(a)                                      Empresária 
#                          24                                               1 
#               Estagiário(a)              Micro-empresário instituído por ME 
#                           2                                               1 
#           Servidora pública tatuador autônomo, mas conto com ajuda dos pais 
#                           1                                               1

# Rótulos muito grandes  em grande quantidade. Dificuldade para exibir nos gráficos
# Redução proposital dos textos
names(casos_emprego) <- c("Aposentada", "Bolsista","Corretor", "Dep./Empr.", "Dependente",
                          "Desemp.","Empregado","Empresária","Estagiário","Micro-emp.",
                          "Serv. púb.", "Autôn/Dep.")
casos_emprego
#Aposentada   Bolsista   Corretor Dep./Empr. Dependente    Desemp.  Empregado Empresária Estagiário Micro-emp. Serv. púb. Autôn/Dep. 
#         1         10          1          1          7          2         24          1          2          1          1          1 

pct_emprego <- paste(round(unname(casos_emprego) / sum(unname(casos_emprego)) * 100), "%")
pct_emprego
#[1] "2 %"  "19 %" "2 %"  "2 %"  "13 %" "4 %"  "46 %" "2 %"  "4 %"  "2 %"  "2 %"  "2 %" 

#Gráfico 3: Quantidade de respondentes por situação empregatícia
# Gráfico tipo "pizza"
pie(casos_emprego,
    edges = 200, radius = 0.8,
    clockwise = F,
    density = NULL, angle = 90, col = c("red", "orange", "yellow", "green", "black"),
    labels = paste(names(casos_emprego), "-", pct_emprego),
    main = "Gráfico 4: Quantidade de respondentes por situação empregatícia")

# Gráfico 3 do tipo barra situação empregatícia
graph.casos_emprego <- barplot(casos_emprego, 
                              main = "Gráfico 3: Quantidade de respondentes por situação empregatícia",
                              xlab = "Sitação Empregatícia", 
                              ylab = "Respondentes",
                              col = "orange",
                              ylim = c(0,max(casos_emprego) + 20))
text(x = graph.casos_emprego, y = casos_emprego, label = unname(casos_emprego), cex=1, pos=3)
axis(1, at=graph.casos_emprego, labels=paste("(", pct_emprego, ")"), tick=F, las=1, line=-1.0, cex.axis= 1.1)


```

\<AQUI DEVEMOS INSERIR AS CONSIDERAÇÕES RELACIONADAS AO GRÁFICO 3, QUE RETRATA A SITUAÇÃO EMPREGATÍCIA DOS RESPONDENTES\>

```{r grafico4_respondentes_por_estado, echo=FALSE, fig.cap = "Gráfico 4: Quantidade de respondentes por estado da federação"}
# Dados do Gráfico 4
casos_estado <- table(dbf.xlsx$estado_reside, exclude = NULL)
casos_estado
#  AM   SP <NA> 
#   1   47    4

pct_estado <- paste(round(unname(casos_estado) / sum(unname(casos_estado)) * 100), "%")
pct_estado  
#[1] "2 %"  "90 %" "8 %"
names(pct_estado) <-c("Amazonas", "São Paulo", "Não Respondeu")

#Gráfico 4: Quantidade de respondentes por estado
# Gráfico tipo "pizza"
pie(casos_estado,
    edges = 200, radius = 0.8,
    clockwise = F,
    density = NULL, angle = 90, col = c("red", "orange", "yellow", "green", "black"),
    labels = paste(names(pct_estado), "-", pct_estado),
    main = "Gráfico 4: Quantidade de respondentes por estado")


```

\<AQUI DEVEMOS INSERIR AS CONSIDERAÇÕES RELACIONADAS AO GRÁFICO 4, QUE RETRATA A UNIDADE DA FEDERAÇÃO EM QUE O RESPONDENTE RESIDE\>

```{r grafico5_nivel_instrucao, echo=FALSE, fig.cap = "Gráfico 5: Nível de instrução dos respondentes"}

# Dados do Gráfico 5
casos_ensino<- table(dbf.xlsx$nivel_ensino, exclude = NULL)
casos_ensino
# Doutorado     Ensino Técnico Especialização/MBA          Graduação           Mestrado      Pós-doutorado 
#        15                  1                  1                 21                 13                  1 

pct_ensino <- paste(round(unname(casos_ensino) / sum(unname(casos_ensino)) * 100), "%")
pct_ensino  
#[1] "29 %" "2 %"  "2 %"  "40 %" "25 %" "2 %" 

#Gráfico 5: Quantidade de respondentes nível de ensino
# Gráfico tipo "pizza"
pie(casos_ensino,
    edges = 200, radius = 0.8,
    clockwise = T,
    density = NULL, angle = 90, col = c("red", "orange", "yellow", "green", "black"),
    labels = paste(names(casos_ensino), "-", pct_ensino),
    main = "Gráfico 5: Quantidade de respondentes por nível de ensino")



```

\<AQUI DEVEMOS INSERIR AS CONSIDERAÇÕES RELACIONADAS AO GRÁFICO 5, QUE RETRATA O NÍVEL DE ENSINO DOS RESPONDENTES\>



## 4. Discussão dos resultados

<MINHA SUGESTÃO É QUE NESTA SEÇÃO TENTEMOS ESTABELECER (ALGUMAS POUCAS) RELAÇÕES ENTRE AS COLUNAS DA PLANILHA, MESMO SEM DEMONSTRA-LAS POR MEIO DE GRÁFICOS.  EXEMPLO: "Os dados coletados mostram que a predominância de mudança de rotina para pior foi verificada nos respondentes com menor grau de instrução".>

## 5. Considerações finais
 
<DOIS PARÁGRAFOS COM O RESGATE DO QUE FOI FEITO EM CADA SEÇÃO DO TRABALHO>